WEBVTT

00:00.000 --> 00:07.000
Thank you.

00:07.000 --> 00:10.000
So you know if you work a lot of the green screens,

00:10.000 --> 00:13.000
so after some time you cannot distinguish between green and yellow.

00:13.000 --> 00:18.000
So it's what happens to me and we are talking about IBM RX,

00:18.000 --> 00:20.000
and it's usually green screen.

00:20.000 --> 00:26.000
So we are here in the deaf room and the first, I'm not a developer.

00:26.000 --> 00:29.000
I'm a classical system administrator.

00:29.000 --> 00:36.000
So yeah, you can say to me I'm a DevOps engineer because I can quote,

00:36.000 --> 00:40.000
I can quote and see and Google Go and Rust in Python and Ruby,

00:40.000 --> 00:42.000
so I used everything.

00:42.000 --> 00:48.000
And I ported a lot of tools to IBM IX and to Linux on IBM Power,

00:48.000 --> 00:50.000
and on OpenPower.

00:50.000 --> 00:52.000
I'm not an IBMer.

00:52.000 --> 00:56.000
Usually IBM has talks about IBM Power.

00:56.000 --> 00:58.000
I'm not.

00:58.000 --> 01:00.000
I'm an IBM champion.

01:00.000 --> 01:05.000
So if you know what is AWS Hero, Microsoft, most valued professional,

01:05.000 --> 01:10.000
so this is the similar program from IBM.

01:10.000 --> 01:11.000
I'm not a red-hitter.

01:11.000 --> 01:13.000
I don't have a red-hitter.

01:13.000 --> 01:18.000
So as you see, I'm a red-hitter certified engineer and I'm a red-hitter instructor.

01:18.000 --> 01:24.000
So that's why some of these talk may sound for you like a training material,

01:24.000 --> 01:27.000
so it is not.

01:27.000 --> 01:34.000
And we're here at FOSDEM, beer, open source hackers.

01:34.000 --> 01:35.000
What does it do?

01:35.000 --> 01:38.000
What has it to do with IX?

01:38.000 --> 01:47.000
IX is a series of proprietary, Unix operating systems called sourceWare.

01:47.000 --> 01:49.000
So this is my attitude to it.

01:49.000 --> 01:52.000
Real hackers don't need source code.

01:52.000 --> 01:57.000
I was born in another time in another country and we didn't have access to source code mostly.

01:57.000 --> 02:04.000
And the real hackers, or real hacker, is someone who can understand how the program works

02:04.000 --> 02:11.000
without looking into the source code and who can change it without looking into the source code.

02:11.000 --> 02:15.000
So, who are some of the men who use it today?

02:15.000 --> 02:18.000
Who uses IX?

02:18.000 --> 02:21.000
Nobody?

02:21.000 --> 02:24.000
You are all wrong.

02:24.000 --> 02:27.000
Do you have a banking account?

02:27.000 --> 02:30.000
You're a bank user, so do you have insurance?

02:30.000 --> 02:38.000
Your insurance user, so how did you came here by car, by train, by flight?

02:38.000 --> 02:40.000
Everyone uses IX.

02:40.000 --> 02:45.000
So retailers, manufacturers, if you bought something, it was done on IX.

02:45.000 --> 02:48.000
So do you have this thing?

02:48.000 --> 02:50.000
No, you don't have an onix on it.

02:50.000 --> 02:55.000
But in the back end, it is IX database, or database on IX,

02:55.000 --> 03:01.000
who processes all your orders and sign-ons and so on.

03:01.000 --> 03:07.000
So I added some, yeah, I added some marketing sheet

03:07.000 --> 03:10.000
because nobody knows what IBM power is.

03:10.000 --> 03:14.000
Sheet with long e, not with short.

03:14.000 --> 03:19.000
I just want to say that this is my favorite guy, IBM Power 8 and AC.

03:19.000 --> 03:26.000
So it has 1,920 logical CPUs and 64 terabytes of memory.

03:26.000 --> 03:31.000
So you can have it everything in one position, so in one virtual machine.

03:31.000 --> 03:38.000
So I did once with six, first time I did with 640 CPUs, virtual machines.

03:38.000 --> 03:44.000
So I wanted to look what are my CPUs are doing.

03:44.000 --> 03:52.000
And you know, even if you have, let's say, 40 lines in your terminal, 640 CPUs,

03:52.000 --> 03:56.000
it is how many? 16 pages of CPUs.

03:56.000 --> 03:59.000
So it takes some time to get them.

03:59.000 --> 04:03.000
But there are some funny facts about power which are not very well known.

04:03.000 --> 04:07.000
So fun fact number one, zero successful data breaches.

04:07.000 --> 04:10.000
So it is 2022.

04:10.000 --> 04:15.000
I don't think it is about that IX is so secure. IX is not so secure.

04:15.000 --> 04:17.000
So it is like any other operating systems.

04:17.000 --> 04:23.000
And most of the guys, system administrators, cannot use it correctly.

04:23.000 --> 04:27.000
So but the other side of the story, nobody knows about it.

04:27.000 --> 04:32.000
So it's difficult to breach into it if you don't know how to use it.

04:32.000 --> 04:39.000
Fun fact number two, it's 14 years the major reliable server.

04:39.000 --> 04:43.000
So somewhere here, the typo.

04:43.000 --> 04:48.000
So it's really reliable. To bring it down, it's impossible.

04:48.000 --> 04:52.000
So it just works. So it can work year long.

04:52.000 --> 04:55.000
You can forget about it, it will work anyway.

04:55.000 --> 04:58.000
So and I like this fun fact.

04:58.000 --> 05:00.000
So this is about performance.

05:00.000 --> 05:03.000
Let a P in power is performance.

05:03.000 --> 05:06.000
So you see here IBM E-server P5.

05:06.000 --> 05:11.000
So this is the fifth generation of power servers 2005.

05:11.000 --> 05:17.000
Did an SIP benchmark, somehow 8000 something steps.

05:17.000 --> 05:24.000
So eight years later Fujitsu's park could do almost the same.

05:24.000 --> 05:28.000
Last year, the latest and greatest Intel Dell Power H

05:28.000 --> 05:34.000
with the latest and greatest Intel CPU just outperformed by 1%.

05:34.000 --> 05:39.000
So you know what is the most powerful server right now in this benchmark.

05:39.000 --> 05:42.000
So the first three places are there.

05:42.000 --> 05:47.000
Before going further, we had to talk a little bit about IX

05:47.000 --> 05:49.000
and what we should understand.

05:49.000 --> 05:53.000
What makes it so easy and so difficult working with IX.

05:53.000 --> 05:57.000
So it's a real unique standard operating system.

05:57.000 --> 06:03.000
It is everything is standardized and everything what is implemented in IX is standardized.

06:03.000 --> 06:06.000
So implemented according to standards.

06:06.000 --> 06:12.000
But you know standards can be a little bit different according to the developer.

06:12.000 --> 06:19.000
So it depends on developer who develops or who implements their standard usually.

06:19.000 --> 06:23.000
One of the most things is binary compatibility.

06:23.000 --> 06:30.000
So if you ask any IX admin, they will say binary compatibility is the most important thing

06:30.000 --> 06:35.000
because yes, I can run on my most modern IX server.

06:35.000 --> 06:39.000
Binary is a program which were compiled 20 years ago.

06:39.000 --> 06:42.000
I did it even more than 20 years ago.

06:42.000 --> 06:49.000
Another case of this binary compatibility, so you don't innovate.

06:49.000 --> 06:51.000
Because you have it, it works.

06:51.000 --> 06:53.000
So why should you innovate?

06:53.000 --> 06:56.000
Why should you do newer things?

06:56.000 --> 07:00.000
It's not BSD based and not system 5B based.

07:00.000 --> 07:05.000
So it's a usual, it's OSF-1 based if someone remembers OSF-1.

07:05.000 --> 07:09.000
So it was end of the eighties, beginning of the nineties

07:09.000 --> 07:17.000
when IBM, HP and digital united together to make a new standard in Unix world.

07:17.000 --> 07:19.000
And they did OSF-1.

07:19.000 --> 07:24.000
And of course, because not everything can be standardized, it has some unique features.

07:24.000 --> 07:26.000
And let's go to authentication.

07:26.000 --> 07:28.000
So PIME, everyone knows.

07:28.000 --> 07:30.000
Everyone uses in Linux PIME.

07:30.000 --> 07:32.000
IX has support for PIME.

07:32.000 --> 07:34.000
Everything is good? No.

07:34.000 --> 07:37.000
So it's originated in Solaris, yeah.

07:37.000 --> 07:39.000
Can be used in IX.

07:39.000 --> 07:45.000
But IX uses old Solaris implementation of PIME from the end of the nineties.

07:45.000 --> 07:52.000
And it's really paining in the ass, sorry, to port some PIME module from Linux to IX.

07:52.000 --> 07:56.000
I tried to port Azure AD authentication to IX.

07:56.000 --> 08:00.000
And I failed and after one week I said no, I will not do it.

08:00.000 --> 08:09.000
Because the differences between APIs in IX and old PIME interface and newer interface.

08:09.000 --> 08:13.000
But IX has something different called load authentication module.

08:13.000 --> 08:18.000
This is original IX idea, how to make almost the same.

08:18.000 --> 08:20.000
So it was done even before PIME.

08:20.000 --> 08:24.000
So five years I think before PIME, they did LAM.

08:24.000 --> 08:27.000
Almost the same, but a little bit different.

08:27.000 --> 08:30.000
IX only technology and very popular in IX world.

08:30.000 --> 08:33.000
Again, not because it is the best technology.

08:33.000 --> 08:37.000
Usually because system administrators don't know anything else.

08:37.000 --> 08:39.000
So that's why they use LAM.

08:39.000 --> 08:41.000
It is by default there.

08:41.000 --> 08:49.000
So and the most big feature of it, there is almost no documentation how to use it and how to develop it.

08:49.000 --> 08:56.000
So first time I developed my LAM module, I used Samba source code to understand how it works.

08:56.000 --> 09:01.000
Because Samba had LAM module for IX and IBM didn't provide anything.

09:01.000 --> 09:06.000
So it's not really versus, it's together.

09:06.000 --> 09:08.000
They work together.

09:08.000 --> 09:10.000
So we have PIME and LAM.

09:10.000 --> 09:15.000
We can have application one using PIME and application two using LAM.

09:15.000 --> 09:17.000
It's flexibility.

09:17.000 --> 09:24.000
So we can have user one using PIME and user two using LAM on the same system.

09:24.000 --> 09:27.000
We can do everything we want.

09:27.000 --> 09:34.000
Every user has 50 attributes, different attributes we can configure.

09:34.000 --> 09:41.000
So it's not like in Linux where you have home directory password, user ID and so on.

09:41.000 --> 09:43.000
In IX you have 50 attributes.

09:43.000 --> 09:48.000
You must not use every attribute, but you can use it.

09:48.000 --> 09:56.000
And you can configure, you can have different password policy for different user based on different dictionaries and so on.

09:56.000 --> 10:07.000
But even in wars you can configure PIME to use LAM for authentication and use LAM to configure LAM to use PIME for authentication.

10:07.000 --> 10:13.000
So usually it's good that IX administrators don't know about this feature,

10:13.000 --> 10:19.000
but you can get into real, I don't know how to say it.

10:19.000 --> 10:30.000
So you will be waiting for authentication 20 years till it completes because LAM will consult PIME and PIME will consult LAM.

10:30.000 --> 10:34.000
So now let's go a little bit into details.

10:34.000 --> 10:39.000
So the first configuration we need to, we can choose, do we use standard authentication?

10:39.000 --> 10:43.000
It is LAM, loadable authentication model, or we use PIME authentication.

10:43.000 --> 10:50.000
So we configure it's just normal in config file and this is standard value, standard authentication.

10:50.000 --> 10:54.000
And in our case we leave it as standard authentication.

10:54.000 --> 11:01.000
So next in ETC security user we can configure different user attributes.

11:01.000 --> 11:12.000
And this is one attribute system which is usually tells us which loadable authentication modules we should use to authenticate the user.

11:12.000 --> 11:19.000
By default in IX there are two variants, files or compact, they are not very, really different,

11:19.000 --> 11:24.000
but you can install additional authentication modules and add much more.

11:24.000 --> 11:37.000
So it works with IX only functions authenticate, it is not POSIX, it's not single user specification, it's just IX.

11:37.000 --> 11:43.000
And you just get username from user and send it to this function.

11:43.000 --> 11:52.000
And functions read ETC security user, it somehow works with system which we configured and says,

11:52.000 --> 11:57.000
okay, let's go use this prompt to the user.

11:57.000 --> 12:04.000
So in this case it can be that user one uses LDAP and authenticate with free EPA for example.

12:04.000 --> 12:10.000
And other user uses Kerber's and authenticate with Microsoft Active Directory,

12:10.000 --> 12:15.000
the third user can use multi-factor authentication and authenticate through GitHub.

12:15.000 --> 12:18.000
So all on the same system.

12:18.000 --> 12:25.000
But it's not all because as I said sometimes documentation lacks some information.

12:25.000 --> 12:30.000
There is another function authenticate X in the newer version of IX.

12:30.000 --> 12:37.000
Yeah, IBM is like me in this case, so they have very big brain how to name functions.

12:37.000 --> 12:43.000
So I also use the variables name, R, Y, J, K, L, M and so on.

12:43.000 --> 12:48.000
But the difference is here with this state.

12:48.000 --> 12:51.000
So what should be used, I don't know.

12:51.000 --> 13:00.000
But one of these two functions is used by login and it then goes to loadable authentication modules.

13:00.000 --> 13:06.000
And we have a configuration for loadable authentication module in this file and this is standard way.

13:06.000 --> 13:16.000
As you see we have one module for 32 bits programs and another module for 64 bit programs.

13:16.000 --> 13:24.000
And this is again the problem for me personally because I like to use modern programming languages like Google Go or Rust.

13:24.000 --> 13:28.000
And they are 64 bit only on IX.

13:28.000 --> 13:38.000
But in this case you need also to have 32 bit program and it means you can use just C or that's it, nothing else.

13:38.000 --> 13:46.000
And this is what comes by default as you see IX delivers carbers and LDAP as default modules.

13:46.000 --> 13:49.000
They are just there, you need to configure them.

13:49.000 --> 13:52.000
But there are some pieces missing of information here.

13:52.000 --> 13:58.000
So if you want to use LDAP you must install IBM directory server LDAP file sets.

13:58.000 --> 14:02.000
They are delivered with IX, so but they are not installed by default.

14:02.000 --> 14:07.000
Similar if you want to use carbers you must install IBM network authentication service file sets.

14:07.000 --> 14:11.000
They are also delivered but not installed by default.

14:11.000 --> 14:24.000
In this particular case I use only LDAP but you can use also carbers for authentication and LDAP as directory service to list to users, to get directory for users.

14:24.000 --> 14:28.000
So do I need to do something on free EPASite?

14:28.000 --> 14:30.000
No, really no, no.

14:30.000 --> 14:33.000
You just install and use free PSU.

14:33.000 --> 14:34.000
Usually do.

14:35.000 --> 14:45.000
So I have such installation at customer site and they just installed, they didn't do anything special for IX on there.

14:45.000 --> 14:51.000
I usually do something, so in my test I usually do OK2oFS delegate too.

14:51.000 --> 15:01.000
It's not for LDAP indeed, so it's more for carbers single sign on which I don't use here but so it works.

15:01.000 --> 15:05.000
And I create separate IX for you because there are some gotchas with IX.

15:05.000 --> 15:10.000
So BESH is not on every IX installed by default.

15:10.000 --> 15:14.000
So just on newer versions of IX it is by default there.

15:14.000 --> 15:25.000
On older IX version we use con shell 93 and on IX standard user group has JID 1 and not 100 SM Linux.

15:25.000 --> 15:30.000
So that's why I do this using Vue.

15:30.000 --> 15:39.000
So and yes, just small ansible snippet what I do, what I told about and again thank you very much for ansible modules.

15:39.000 --> 15:41.000
So magnificent.

15:41.000 --> 15:43.000
So IX site.

15:43.000 --> 15:51.000
On IX site we just create second app configuration with this command and we specify here our IR server.

15:51.000 --> 16:04.000
The name which we use to log into free EPO and password you see I use the long very long password and cryptical so and where we can start searching.

16:04.000 --> 16:10.000
So it creates automatically configuration for loadable authentication module.

16:10.000 --> 16:15.000
It creates automatically LDAP client configuration and starts LDAP client.

16:15.000 --> 16:25.000
And if you see here it finds really finds where it can find users and groups on its own.

16:25.000 --> 16:28.000
Nothing, no magic, no rocket science.

16:28.000 --> 16:34.000
The only thing you can see here is RFC 2307.

16:34.000 --> 16:40.000
As in Linux you use usually RFC 2307 BESH and here there is no BESH.

16:40.000 --> 16:45.000
Why? Because as I told IX is a standard operating system.

16:45.000 --> 16:51.000
So and RFC 2307 since 20 years is a draft of a standard but not a standard.

16:51.000 --> 16:53.000
So sorry guys it will not be implemented.

16:53.000 --> 17:00.000
So this is official answer from my BMI gut because it's not a standard.

17:00.000 --> 17:02.000
So everything else looks good.

17:02.000 --> 17:07.000
So there are some configuration changes I see they must be done.

17:07.000 --> 17:11.000
So but in real life they should be done not must.

17:11.000 --> 17:17.000
So you want to have home directors for your users to be created when they log in.

17:17.000 --> 17:24.000
So I found so okay you say that by default all the users are in LDAP directory.

17:24.000 --> 17:36.000
So and I found that on the new US-TIX these two parameters and password policy plays not very nicely together with LDAP.

17:36.000 --> 17:44.000
Another feature the main list groups so by default IX use if user to IX comes from LDAP directory.

17:44.000 --> 17:47.000
It can have only LDAP groups.

17:47.000 --> 17:59.000
It can be in local groups and switching on these the main list groups I say okay the user can be also in a member in a local group.

17:59.000 --> 18:12.000
So and one more if you use views in FreeEpa like me so just don't forget to adhere IX views and restart LDAP client that's it.

18:12.000 --> 18:25.000
So everything is configured everything is working so it's not so interesting if something goes wrong you can use LDAP to check what FreeEpa brings to you or what IX sees on FreeEpa side.

18:25.000 --> 18:35.000
And if something goes completely wrong you can switch on debugging with such magical variables nowhere documented almost nowhere documented.

18:35.000 --> 18:42.000
So but be careful with them first of all they produce really a lot of output.

18:42.000 --> 18:47.000
Second you can find even your passwords in clear text in this output.

18:47.000 --> 19:11.000
So okay mapping sometimes you must change your mapping this is standard mapping what all IX uses but you may find situation I was for one bank another a little bit different mapping because they need some additional fields in their case.

19:11.000 --> 19:29.000
So and you can change the mapping here and it's rather easy it's no rocket science so does it work yes but there is always some but some so there are some wishes first of all as I told standards are so how.

19:30.000 --> 19:44.000
How developer implements the standard it's depends on developer and I extend that sees a little bit different password class change attribute as in FreeEpa so different formats of dates.

19:45.000 --> 19:58.000
So it's on IX side and I development tries to fix the problem since I think one year something like so it's when you walk with closed source operating system so you can't fix it on your own sorry.

19:58.000 --> 20:03.000
I don't I didn't find the way how to make HB a quacking.

20:04.000 --> 20:06.000
So I have the answer thank you.

20:08.000 --> 20:22.000
But I would like to have it working so yes free plays missing my favorite 50 IX use attributes and I would like to have them there it's really one of the things I love in our IX.

20:23.000 --> 20:46.000
We have even more IX specific like role based access control and trusted execution so if you switch it on you cannot execute some some binary on IX without it will check the signage of the binary and everything can be stored in held up so that's why it would be nice to have it in free part to.

20:47.000 --> 20:48.000
Yeah.

20:49.000 --> 20:55.000
And yes I exist missing 23 but I would like to have a native free Epa client which is not there.

20:56.000 --> 21:03.000
So and if you can help me feel free to ping and we will talk thank you very much for the time and.

21:03.000 --> 21:04.000
And.

21:05.000 --> 21:06.000
We have any.

21:11.000 --> 21:12.000
One minute.

21:16.000 --> 21:17.000
Yeah.

21:18.000 --> 21:20.000
Not a question just a side note.

21:21.000 --> 21:22.000
About stuff so.

21:23.000 --> 21:25.000
Well it's sort of catch 22 until you.

21:26.000 --> 21:32.000
Until RFC is implemented it can't become a standard for a proper standard.

21:33.000 --> 21:35.000
It is implemented by numerous.

21:36.000 --> 21:37.000
Yeah.

21:38.000 --> 21:39.000
So probably.

21:40.000 --> 21:41.000
Raise the issue to.

21:42.000 --> 21:45.000
IETF is not interested in finishing this work.

21:46.000 --> 21:52.000
The people who originally started this job not interested because everything is working for everyone.

21:55.000 --> 21:56.000
That's that's.

21:57.000 --> 21:58.000
Position.

21:58.000 --> 21:59.000
Okay.

